{"ast":null,"code":"import{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function MovieForm(_ref){let{addMovie}=_ref;const[title,setTitle]=useState('');const[year,setYear]=useState('');const[error,setError]=useState(null);const API_URL=process.env.REACT_APP_API_URL||'http://localhost:3001';function handleSubmit(e){e.preventDefault();if(!title||!year){setError(\"Please , fill all the space.\");return;}const newMovie={title,year};fetch(`${API_URL}/movies`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(newMovie)}).then(res=>{if(!res.ok)throw new Error(\"Fail to add movie\");return res.json();}).then(data=>{addMovie(data);setTitle('');setYear('');setError(null);}).catch(err=>setError(err.message));}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"input\",{value:title,onChange:e=>setTitle(e.target.value),placeholder:\"Title\",required:true}),/*#__PURE__*/_jsx(\"input\",{value:year,onChange:e=>setYear(e.target.value),placeholder:\"Year\",required:true,type:\"number\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error})]});}","map":{"version":3,"names":["useState","jsx","_jsx","jsxs","_jsxs","MovieForm","_ref","addMovie","title","setTitle","year","setYear","error","setError","API_URL","process","env","REACT_APP_API_URL","handleSubmit","e","preventDefault","newMovie","fetch","method","headers","body","JSON","stringify","then","res","ok","Error","json","data","catch","err","message","onSubmit","style","marginBottom","children","value","onChange","target","placeholder","required","type","color"],"sources":["C:/Users/Marc-Arthur/Desktop/mon-projet-phase-2/src/components/MovieForm.jsx"],"sourcesContent":["import { useState } from 'react';\r\n\r\nexport default function MovieForm({ addMovie }) {\r\n  const [title, setTitle] = useState('');\r\n  const [year, setYear] = useState('');\r\n  const [error, setError] = useState(null);\r\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001';\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    if (!title || !year) {\r\n      setError(\"Please , fill all the space.\");\r\n      return;\r\n    }\r\n\r\n    const newMovie = { title, year };\r\n\r\n    fetch(`${API_URL}/movies`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(newMovie),\r\n    })\r\n      .then(res => {\r\n        if (!res.ok) throw new Error(\"Fail to add movie\");\r\n        return res.json();\r\n      })\r\n      .then(data => {\r\n        addMovie(data);\r\n        setTitle('');\r\n        setYear('');\r\n        setError(null);\r\n      })\r\n      .catch(err => setError(err.message));\r\n  }\r\n\r\n  return (\r\n  <form onSubmit={handleSubmit} style={{ marginBottom: '1rem' }}>\r\n      <input value={title} onChange={e => setTitle(e.target.value)} placeholder=\"Title\" required />\r\n      <input value={year} onChange={e => setYear(e.target.value)} placeholder=\"Year\" required type=\"number\" />\r\n      <button type=\"submit\">Add</button>\r\n      {error && <p style={{ color: 'red' }}>{error}</p>}\r\n    </form>\r\n  );\r\n}"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjC,cAAe,SAAS,CAAAC,SAASA,CAAAC,IAAA,CAAe,IAAd,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC5C,KAAM,CAACE,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACU,IAAI,CAAEC,OAAO,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAAAc,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,uBAAuB,CAExE,QAAS,CAAAC,YAAYA,CAACC,CAAC,CAAE,CACvBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB,GAAI,CAACZ,KAAK,EAAI,CAACE,IAAI,CAAE,CACnBG,QAAQ,CAAC,8BAA8B,CAAC,CACxC,OACF,CAEA,KAAM,CAAAQ,QAAQ,CAAG,CAAEb,KAAK,CAAEE,IAAK,CAAC,CAEhCY,KAAK,CAAC,GAAGR,OAAO,SAAS,CAAE,CACzBS,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACN,QAAQ,CAC/B,CAAC,CAAC,CACCO,IAAI,CAACC,GAAG,EAAI,CACX,GAAI,CAACA,GAAG,CAACC,EAAE,CAAE,KAAM,IAAI,CAAAC,KAAK,CAAC,mBAAmB,CAAC,CACjD,MAAO,CAAAF,GAAG,CAACG,IAAI,CAAC,CAAC,CACnB,CAAC,CAAC,CACDJ,IAAI,CAACK,IAAI,EAAI,CACZ1B,QAAQ,CAAC0B,IAAI,CAAC,CACdxB,QAAQ,CAAC,EAAE,CAAC,CACZE,OAAO,CAAC,EAAE,CAAC,CACXE,QAAQ,CAAC,IAAI,CAAC,CAChB,CAAC,CAAC,CACDqB,KAAK,CAACC,GAAG,EAAItB,QAAQ,CAACsB,GAAG,CAACC,OAAO,CAAC,CAAC,CACxC,CAEA,mBACAhC,KAAA,SAAMiC,QAAQ,CAAEnB,YAAa,CAACoB,KAAK,CAAE,CAAEC,YAAY,CAAE,MAAO,CAAE,CAAAC,QAAA,eAC1DtC,IAAA,UAAOuC,KAAK,CAAEjC,KAAM,CAACkC,QAAQ,CAAEvB,CAAC,EAAIV,QAAQ,CAACU,CAAC,CAACwB,MAAM,CAACF,KAAK,CAAE,CAACG,WAAW,CAAC,OAAO,CAACC,QAAQ,MAAE,CAAC,cAC7F3C,IAAA,UAAOuC,KAAK,CAAE/B,IAAK,CAACgC,QAAQ,CAAEvB,CAAC,EAAIR,OAAO,CAACQ,CAAC,CAACwB,MAAM,CAACF,KAAK,CAAE,CAACG,WAAW,CAAC,MAAM,CAACC,QAAQ,MAACC,IAAI,CAAC,QAAQ,CAAE,CAAC,cACxG5C,IAAA,WAAQ4C,IAAI,CAAC,QAAQ,CAAAN,QAAA,CAAC,KAAG,CAAQ,CAAC,CACjC5B,KAAK,eAAIV,IAAA,MAAGoC,KAAK,CAAE,CAAES,KAAK,CAAE,KAAM,CAAE,CAAAP,QAAA,CAAE5B,KAAK,CAAI,CAAC,EAC7C,CAAC,CAEX","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}